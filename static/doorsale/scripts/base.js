function bootstrapAjax(t,a){function e(t,a){for(var e=window,n=(t||"").split(".");e&&n.length;)e=e[n.shift()];return"function"==typeof e?e:(a.push(t),Function.constructor.apply(null,a))}function n(t){return"GET"===t||"POST"===t}function i(t,a){n(a)||t.setRequestHeader("X-HTTP-Method-Override",a)}function r(a,e,n){var i;-1===n.indexOf("application/x-javascript")&&(i=(a.getAttribute("data-ajax-mode")||"").toUpperCase(),t(a.getAttribute("data-ajax-update")).each(function(a,n){var r;switch(i){case"BEFORE":r=n.firstChild,t("<div />").html(e).contents().each(function(){t(this).hide(),n.insertBefore(this,r),t(this).fadeIn()});break;case"AFTER":t("<div />").html(e).contents().each(function(){t(this).hide(),n.appendChild(this),t(this).fadeIn()});break;default:t(n).html(e)}}))}function u(a,u){var o,s,c,d;(o=a.getAttribute("data-ajax-confirm"))&&!window.confirm(o)||(s=t(a.getAttribute("data-ajax-loading")),d=a.getAttribute("data-ajax-loading-duration")||0,t.extend(u,{type:a.getAttribute("data-ajax-method")||void 0,url:a.getAttribute("data-ajax-url")||void 0,beforeSend:function(t){var n;return i(t,c),n=e(a.getAttribute("data-ajax-begin"),["xhr"]).apply(this,arguments),!1!==n&&s.show(d),n},complete:function(){s.hide(d),e(a.getAttribute("data-ajax-complete"),["xhr","status"]).apply(this,arguments)},success:function(t,n,i){r(a,t,i.getResponseHeader("Content-Type")||"text/html"),e(a.getAttribute("data-ajax-success"),["data","status","xhr"]).apply(this,arguments)},error:e(a.getAttribute("data-ajax-failure"),["xhr","status","error"])}),u.data.push({name:"X-Requested-With",value:"XMLHttpRequest"}),c=u.type.toUpperCase(),n(c)||(u.type="POST",u.data.push({name:"X-HTTP-Method-Override",value:c})),t.ajax(u))}function o(a){var e=t(a).data(c);return!e||!e.validate||e.validate()}var s="unobtrusiveAjaxClick",c="unobtrusiveValidation";a=void 0==a||null==a?"":a+" ",t(a+"a[data-ajax=true]").on("click",function(t){t.preventDefault(),u(this,{url:this.href,type:"GET",data:[]})}),t(a+"form[data-ajax=true] input[type=image]").on("click",function(a){var e=a.target.name,n=t(a.target),i=n.parents("form")[0],r=n.offset();t(i).data(s,[{name:e+".x",value:Math.round(a.pageX-r.left)},{name:e+".y",value:Math.round(a.pageY-r.top)}]),setTimeout(function(){t(i).removeData(s)},0)}),t(a+"form[data-ajax=true] :submit").on("click",function(a){var e=a.target.name,n=t(a.target).parents("form")[0];t(n).data(s,e?[{name:e,value:a.target.value}]:[]),setTimeout(function(){t(n).removeData(s)},0)}),t(a+"form[data-ajax=true]").on("submit",function(a){var e=t(this).data(s)||[];a.preventDefault(),o(this)&&u(this,{url:this.action,type:this.method||"GET",data:e.concat(t(this).serializeArray())})})}function contextMenu(){$(document).click(function(t){$("[context-menu]").each(function(){$(t.target).parent("[context-menu]").andSelf().is(this)||$(t.target).parents().andSelf().is($(this).attr("context-menu"))||$(this).fadeOut("fast")})}),$("[context-menu]").each(function(){var t=$(this);$(t.attr("context-menu")).click(function(){t.fadeIn("fast")})})}
/*!
** Unobtrusive Ajax support library for jQuery
** Copyright (C) Microsoft Corporation. All rights reserved.
*/
bootstrapAjax(jQuery),$(function(){contextMenu()});
